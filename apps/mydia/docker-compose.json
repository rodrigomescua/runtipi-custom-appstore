{
  "$schema": "https://schemas.runtipi.io/v2/dynamic-compose.json",
  "schemaVersion": 2,
  "services": [
    {
      "name": "mydia",
      "image": "ghcr.io/getmydia/mydia:0.7.2",
      "isMain": true,
      "internalPort": 4000,
      "environment": [
        {
          "key": "PHX_HOST",
          "value": "${APP_PROTOCOL}://${APP_LOCAL_DOMAIN}"
        },
        {
          "key": "PORT",
          "value": "4000"
        },
        {
          "key": "TZ",
          "value": "${TZ}"
        },
        {
          "key": "MOVIES_PATH",
          "value": "/media/data/movies"
        },
        {
          "key": "TV_PATH",
          "value": "/media/data/tv"
        },
        {
          "key": "SECRET_KEY_BASE",
          "value": "${SECRET_KEY_BASE}"
        },
        {
          "key": "GUARDIAN_SECRET_KEY",
          "value": "${GUARDIAN_SECRET_KEY}"
        }
      ],
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/data/config",
          "containerPath": "/config"
        },
        {
          "hostPath": "${ROOT_FOLDER_HOST}/media",
          "containerPath": "/media"
        }
      ]
    }
  ]
}
