{
  "$schema": "https://schemas.runtipi.io/v2/dynamic-compose.json",
  "schemaVersion": 2,
  "services": [
    {
      "name": "edencrafters-companion",
      "image": "ghcr.io/rodrigomescua/edencrafterscompanion:v1.1.0",
      "isMain": true,
      "internalPort": 3000,
      "command": "sh -c \"npx prisma migrate deploy && node server.js\"",
      "environment": [
        {
          "key": "DATABASE_URL",
          "value": "file:/app/data/dev.db"
        },
        {
          "key": "NODE_ENV",
          "value": "production"
        },
        {
          "key": "HOSTNAME",
          "value": "0.0.0.0"
        },
        {
          "key": "TZ",
          "value": "${TZ}"
        }
      ],
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/data",
          "containerPath": "/app/data"
        }
      ]
    }
  ]
}
